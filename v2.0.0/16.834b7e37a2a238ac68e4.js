/*! @version pwa-studio: 0.0.1, @magento/venia-ui: ^9.6.0, @magento/upward-security-headers: ~1.0.9, @magento/upward-js: ^5.3.2, @magento/pwa-theme-venia: ~1.3.0, @magento/pwa-buildpack: ^11.4.0, @magento/peregrine: ^12.5.1, @magento/pagebuilder: ^7.4.1, @magento/eslint-config: ^1.5.3, @magento/babel-preset-peregrine: ~1.2.1, @apollo/client: ~3.5.0 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{Z1Tp:function(e,t,a){"use strict"
var r=a("JPst"),l=a.n(r)()(function(e){return e[1]})
l.push([e.i,".filterFooter-root-Ozj {\n}\n",""]),l.locals={root:"filterFooter-root-Ozj bg-white content-center gap-y-1 grid h-[7rem] items-center justify-items-center relative"},t.a=l},a3yM:function(e,t,a){"use strict"
var r=a("JPst"),l=a.n(r)()(function(e){return e[1]})
l.push([e.i,".filterModal-root-6nn {\n    grid-template-rows: 1fr 7rem;\n    transform: translate3d(-100%, 0, 0);\n    transition-duration: 192ms;\n    transition-timing-function: var(--venia-global-anim-out);\n    transition-property: opacity, transform, visibility;\n\n    /* TODO @TW: review (B6) */\n    /* composes: invisible from global; */\n    visibility: hidden;\n}\n\n.filterModal-root_open-eMX {\n    transform: translate3d(0, 0, 0);\n    transition-duration: 224ms;\n    transition-timing-function: var(--venia-global-anim-in);\n\n    /* TODO @TW: review (B6) */\n    /* composes: visible from global; */\n    visibility: visible;\n}\n\n.filterModal-body-ppF {\n}\n\n.filterModal-header-G46 {\n}\n\n.filterModal-headerTitle-prJ {\n}\n\n.filterModal-action-1Ls {\n}\n\n/* TODO @TW: cannot compose */\n.filterModal-action-1Ls button {\n    /* composes: text-sm from global; */\n    font-size: 0.875rem;\n    /* composes: no-underline from global; */\n    text-decoration: none;\n}\n\n.filterModal-blocks-Qga {\n}\n\n/* TODO @TW: cannot compose */\n.filterModal-blocks-Qga > li:last-child {\n    /* composes: border-b-2 from global; */\n    /* composes: border-solid from global; */\n    /* composes: border-subtle from global; */\n    border-bottom: 2px solid rgb(var(--venia-global-color-border));\n}\n",""]),l.locals={root:"filterModal-root-6nn bg-white bottom-0 grid h-full left-0 max-w-modal opacity-0 overflow-hidden fixed top-0 w-full z-dialog",root_open:"filterModal-root_open-eMX filterModal-root-6nn bg-white bottom-0 grid h-full left-0 max-w-modal opacity-0 overflow-hidden fixed top-0 w-full z-dialog opacity-100 shadow-modal",body:"filterModal-body-ppF border-b border-solid border-subtle overflow-auto",header:"filterModal-header-G46 flex justify-between pb-0 pt-5 px-5",headerTitle:"filterModal-headerTitle-prJ flex items-center leading-none text-xl",action:"filterModal-action-1Ls pb-0 pt-xs px-xs",blocks:"filterModal-blocks-Qga pb-0 pt-xs px-xs"},t.a=l},bEFh:function(e,t,a){"use strict"
a.r(t),a.d(t,"default",function(){return L})
var r=a("q1tI"),l=a.n(r),o=a("dDsW"),n=a("kriW"),i=a("gWsE"),s=a("17x9"),c=a("wHH0"),d=a("Hec8"),f=a("y1Xp"),p=a("oTwF"),b=a("6QXU"),m=a("TsSr"),u=a("yZeJ"),g=a("ACyH"),y=a("LboF"),h=a.n(y),M=a("Z1Tp"),v={injectType:"singletonStyleTag",insert:"head",singleton:!0},O=(h()(M.a,v),M.a.locals||{}),w=e=>{var{applyFilters:t,hasFilters:a,isOpen:n}=e,{formatMessage:i}=Object(o.a)(),{touched:s}=(e=>{var{hasFilters:t,isOpen:a}=e,[l,o]=Object(r.useState)()
return Object(r.useEffect)(()=>{o(!!a&&(e=>e||t))},[t,a]),{touched:l}})({hasFilters:a,isOpen:n}),c=Object(f.a)(O,e.classes),d=i({id:"filterFooter.results",defaultMessage:"See Results"})
return l.a.createElement("div",{className:c.root},l.a.createElement(g.a,{disabled:!s,onClick:t,"aria-label":d,"aria-disabled":!s,priority:"high"},d))}
w.propTypes={applyFilters:s.func.isRequired,classes:Object(s.shape)({root:s.string}),hasFilters:s.bool,isOpen:s.bool}
var F=w,T=a("a3yM"),j={injectType:"singletonStyleTag",insert:"head",singleton:!0},E=(h()(T.a,j),T.a.locals||{}),k=a("tFsR"),x=e=>{var{filters:t}=e,{formatMessage:a}=Object(o.a)(),s=Object(d.a)({filters:t}),[g,y]=Object(r.useState)([]),{filterApi:h,filterItems:M,filterNames:v,filterFrontendInput:O,filterState:w,handleApply:T,handleClose:j,handleReset:x,handleKeyDownActions:L,isOpen:C}=s,S=Object(f.a)(E,e.classes),A=C?S.root_open:S.root,{pathname:N,search:z}=Object(k.useLocation)()
Object(r.useEffect)(()=>{var e=N.split("/")
if(e.includes("by-area")&&y(["Location"]),e.includes("by-make")&&y(["Model","Make"]),e.includes("by-year-range")&&y(["MFG Year"]),e.includes("by-type")&&y(["Body Type"]),z){var t=Array.from(new URLSearchParams(z).keys())
t.includes("By Make")&&y(["Make"]),t.includes("By Model")&&y(["Model","Make"])}},[N,z])
var D=e=>{var t={"MFG Year":"Year",milage_bucket:"Mileage"}
return Object.keys(t).includes(e)?t[e]:e},J=["Category","Price"],W=Object(r.useMemo)(()=>{return Array.from(M).sort((e,t)=>e[0]>t[0]?1:-1).map(e=>{var[t,a]=e,r=w.get(t),o=v.get(t),n=O.get(t)
return J.includes(o)||g.includes(o)?l.a.createElement(l.a.Fragment,null):l.a.createElement(u.a,{key:t,filterApi:h,filterState:r,filterFrontendInput:n,group:t,items:a,name:D(o)})})},[h,M,v,w,O]),_=a({id:"filterModal.filters.ariaLabel",defaultMessage:"Filters"}),B=a({id:"filterModal.filters.close.ariaLabel",defaultMessage:"Close filters popup."}),R=a({id:"filterModal.action.clearAll.ariaLabel",defaultMessage:"Clear all applied filters"}),G=w.size?l.a.createElement("div",{className:S.action},l.a.createElement(b.a,{type:"button",onClick:x,ariaLabel:R},l.a.createElement(n.a,{id:"filterModal.action",defaultMessage:"Clear all"}))):null
return C?l.a.createElement(m.a,null,l.a.createElement(i.a,{contain:!0,restoreFocus:!0,autoFocus:!0},l.a.createElement("aside",{className:A,onKeyDown:L},l.a.createElement("div",{className:S.body},l.a.createElement("div",{className:S.header},l.a.createElement("h2",{className:S.headerTitle},l.a.createElement(n.a,{id:"filterModal.headerTitle",defaultMessage:"Filters"})),l.a.createElement("button",{onClick:j,"aria-disabled":!1,"aria-label":B},l.a.createElement(p.a,{src:c.a}))),G,l.a.createElement("ul",{className:S.blocks,"aria-label":_},W)),l.a.createElement(F,{applyFilters:T,hasFilters:!!w.size,isOpen:C})))):null}
x.propTypes={classes:Object(s.shape)({action:s.string,blocks:s.string,body:s.string,header:s.string,headerTitle:s.string,root:s.string,root_open:s.string}),filters:Object(s.arrayOf)(Object(s.shape)({attribute_code:s.string,items:s.array}))}
var L=x}}])
